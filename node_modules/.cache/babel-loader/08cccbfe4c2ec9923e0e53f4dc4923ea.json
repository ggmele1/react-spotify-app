{"ast":null,"code":"import _regeneratorRuntime from\"/Volumes/Giuseppe Drive/Giuseppe Drive/Giuseppe/Projects/spotify-favorites-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Volumes/Giuseppe Drive/Giuseppe Drive/Giuseppe/Projects/spotify-favorites-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Volumes/Giuseppe Drive/Giuseppe Drive/Giuseppe/Projects/spotify-favorites-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Volumes/Giuseppe Drive/Giuseppe Drive/Giuseppe/Projects/spotify-favorites-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Volumes/Giuseppe Drive/Giuseppe Drive/Giuseppe/Projects/spotify-favorites-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Volumes/Giuseppe Drive/Giuseppe Drive/Giuseppe/Projects/spotify-favorites-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Volumes/Giuseppe Drive/Giuseppe Drive/Giuseppe/Projects/spotify-favorites-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import axios from\"axios\";import User from\"./User\";import Menu from\"./Menu\";import UserTracks from\"./UserTracks\";import Home from\"./Home\";import{authEndpoint,clientId,redirectUri,scopes}from\"./config\";import hash from\"./hash\";import\"./App.css\";import{Typography,CssBaseline,Button,Container}from\"@material-ui/core\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.handleClick=function(event){var token=_this.state.token;// this.setState({range})\n_this.getUserTopArtist(token,event);};_this.logOut=function(){_this.setState({token:null});};_this.getUserTopArtist=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(token,request){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"axios.get RAN\");_context.next=3;return axios.get(\"https://api.spotify.com/v1/me/top/\".concat(request),{params:{limit:50,time_range:\"long_term\"},headers:{Authorization:\"Bearer \"+token}}).then(function(res){var userData=res.data;console.log(\"getUserTopArtist .THEN\");_this.setState({items:userData.items,no_data:false,request:request});console.log(userData.items);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.state={token:null,request:\"\",range:\"medium\",items:[{artists:[{name:\"\"}],name:\"\",album:{images:[{url:\"\"}]},images:[{url:\"\"}],external_urls:{spotify:\"\"}}],no_data:true};_this.getUserTopArtist=_this.getUserTopArtist.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){// Sets token\nvar _token=hash.access_token;if(_token){this.setState({token:_token});console.log(\"componentDidMount RAN\");}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(Container,{className:\"main\"},this.state.token&&/*#__PURE__*/React.createElement(\"div\",{className:\"menu\"},/*#__PURE__*/React.createElement(Menu,{logOut:this.logOut,handleClick:this.handleClick})),/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"header\",{className:\"App-header\"},!this.state.token&&/*#__PURE__*/React.createElement(\"div\",{className:\"login\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Typography,{variant:\"h4\",align:\"left\",className:\"heading\"},\"Login with your Spotify!\")),/*#__PURE__*/React.createElement(\"div\",{className:\"login-button\"},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",className:\"login-button\",color:\"primary\",href:\"\".concat(authEndpoint,\"?client_id=\").concat(clientId,\"&redirect_uri=\").concat(redirectUri,\"&scope=\").concat(scopes.join(\"%20\"),\"&response_type=token&show_dialog=true\")},/*#__PURE__*/React.createElement(Typography,null,\"Login\")))),this.state.token&&this.state.no_data&&/*#__PURE__*/React.createElement(Home,{handleClick:this.handleClick}),this.state.token&&!this.state.no_data&&this.state.request===\"artists\"&&/*#__PURE__*/React.createElement(User,{handleClick:this.handleClick,items:this.state.items,className:\"user\"}),this.state.token&&!this.state.no_data&&this.state.request===\"tracks\"&&/*#__PURE__*/React.createElement(UserTracks,{items:this.state.items,className:\"user\"})))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Volumes/Giuseppe Drive/Giuseppe Drive/Giuseppe/Projects/spotify-favorites-react/src/App.js"],"names":["React","axios","User","Menu","UserTracks","Home","authEndpoint","clientId","redirectUri","scopes","hash","Typography","CssBaseline","Button","Container","App","handleClick","event","token","state","getUserTopArtist","logOut","setState","request","console","log","get","params","limit","time_range","headers","Authorization","then","res","userData","data","items","no_data","range","artists","name","album","images","url","external_urls","spotify","bind","_token","access_token","join","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport User from \"./User\";\nimport Menu from \"./Menu\";\nimport UserTracks from \"./UserTracks\";\nimport Home from \"./Home\";\nimport { authEndpoint, clientId, redirectUri, scopes } from \"./config\";\nimport hash from \"./hash\";\nimport \"./App.css\";\n\nimport { Typography, CssBaseline, Button, Container } from \"@material-ui/core\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      token: null,\n      request: \"\",\n      range: \"medium\",\n      items: [\n        {\n          artists: [{ name: \"\" }],\n          name: \"\",\n          album: {\n            images: [{ url: \"\" }],\n          },\n          images: [{ url: \"\" }],\n          external_urls: { spotify: \"\" },\n        },\n      ],\n      no_data: true,\n    };\n    this.getUserTopArtist = this.getUserTopArtist.bind(this);\n  }\n\n  handleClick = (event) => {\n    const { token } = this.state;\n    // this.setState({range})\n    this.getUserTopArtist(token, event);\n  };\n\n  logOut = () => {\n    this.setState({ token: null });\n  };\n\n  componentDidMount() {\n    // Sets token\n    let _token = hash.access_token;\n    if (_token) {\n      this.setState({\n        token: _token,\n      });\n      console.log(\"componentDidMount RAN\");\n    }\n  }\n\n  getUserTopArtist = async (token, request) => {\n    console.log(\"axios.get RAN\");\n    await axios\n      .get(`https://api.spotify.com/v1/me/top/${request}`, {\n        params: { limit: 50, time_range: \"long_term\" },\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      })\n      .then((res) => {\n        const userData = res.data;\n        console.log(\"getUserTopArtist .THEN\");\n        this.setState({\n          items: userData.items,\n          no_data: false,\n          request: request,\n        });\n        console.log(userData.items);\n      });\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <CssBaseline />\n        <Container className=\"main\">\n          {this.state.token && (\n            <div className=\"menu\">\n              <Menu logOut={this.logOut} handleClick={this.handleClick} />\n            </div>\n          )}\n          <div className=\"App\">\n            <header className=\"App-header\">\n              {!this.state.token && (\n                <div className=\"login\">\n                  <div>\n                    <Typography variant=\"h4\" align=\"left\" className=\"heading\">\n                      Login with your Spotify!\n                    </Typography>\n                  </div>\n                  <div className=\"login-button\">\n                    <Button\n                      variant=\"contained\"\n                      className=\"login-button\"\n                      color=\"primary\"\n                      href={`${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\n                        \"%20\"\n                      )}&response_type=token&show_dialog=true`}\n                    >\n                      <Typography>Login</Typography>\n                    </Button>\n                  </div>\n                </div>\n              )}\n              {this.state.token && this.state.no_data && (\n                <Home handleClick={this.handleClick} />\n              )}\n              {this.state.token &&\n                !this.state.no_data &&\n                this.state.request === \"artists\" && (\n                  <User\n                    handleClick={this.handleClick}\n                    items={this.state.items}\n                    className=\"user\"\n                  />\n                )}\n              {this.state.token &&\n                !this.state.no_data &&\n                this.state.request === \"tracks\" && (\n                  <UserTracks items={this.state.items} className=\"user\" />\n                )}\n            </header>\n          </div>\n        </Container>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}