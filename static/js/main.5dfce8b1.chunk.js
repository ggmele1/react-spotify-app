(this["webpackJsonpspotify-favorites"]=this["webpackJsonpspotify-favorites"]||[]).push([[0],{25:function(e,t,a){},46:function(e,t,a){},64:function(e,t,a){e.exports=a(93)},69:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(6),s=a.n(i),o=(a(69),a(33)),l=a.n(o),c=a(48),m=a(49),u=a(50),d=a(26),p=a(59),g=a(58),h=a(51),f=a.n(h),E=(a(46),a(25),a(121)),v=a(119),k=a(123),y=a(124),N=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),b=function(e){var t=N(),a=e.items,n=1,i=a.map((function(e){return r.a.createElement("div",{className:t.root},r.a.createElement(E.a,{container:!0,spacing:6,className:"grid",direction:"row",justify:"space-between",alignItems:"flex-start"},r.a.createElement(E.a,{item:!0,xs:3,className:"artist-info"},r.a.createElement(E.a,{item:!0,xs:3},r.a.createElement(k.a,{variant:"h5",align:"left",className:"count"},"#",n++)),r.a.createElement(E.a,{item:!0,xs:3,fontWeight:"fontWeightBold",m:1},r.a.createElement(k.a,{variant:"h4",className:"artistName"},e.name))),r.a.createElement(E.a,{item:!0,xs:6},r.a.createElement("a",{href:e.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:e.images[0].url,alt:"artist",className:"image"})))))}));return r.a.createElement(y.a,null,r.a.createElement("div",null,r.a.createElement(k.a,{variant:"h4",align:"center",className:"heading heading-margin"},"Your Top 10 Favorite Artist"),i))},w=a(57),x=a(128),C=a(129),_=a(125),A=a(56),j=a.n(A);function O(e){var t=r.a.useState(null),a=Object(w.a)(t,2),n=a[0],i=a[1];return r.a.createElement("div",null,r.a.createElement(_.a,{"aria-controls":"simple-menu","aria-haspopup":"true",variant:"contained",onClick:function(e){i(e.currentTarget)}},r.a.createElement(j.a,{color:"primary",style:{fontSize:50}})),r.a.createElement(x.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){i(null)}},r.a.createElement(C.a,{onClick:function(){return e.handleClick("artists")}},"View Artists"),r.a.createElement(C.a,{onClick:function(){return e.handleClick("tracks")}},"My Tracks"),r.a.createElement(C.a,{onClick:function(){return e.logOut()}},"Logout")))}var T=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),S=function(e){var t=T(),a=e.items,n=1,i=a.map((function(e){return r.a.createElement("div",{className:t.root},r.a.createElement(E.a,{container:!0,spacing:6,className:"grid",direction:"row",justify:"space-between",alignItems:"flex-start"},r.a.createElement(E.a,{item:!0,xs:3,className:"artist-info"},r.a.createElement(E.a,{item:!0,xs:3},r.a.createElement(k.a,{variant:"h5",align:"left",className:"count"},"#",n++)),r.a.createElement(E.a,{item:!0,xs:3,fontWeight:"fontWeightBold",m:1},r.a.createElement(k.a,{variant:"h5",className:"artistName"},e.name),r.a.createElement(k.a,{variant:"h6",className:"artistName"},e.artists[0].name))),r.a.createElement(E.a,{item:!0,xs:6},r.a.createElement("a",{href:e.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:e.album.images[0].url,alt:"artist",className:"image"})))))}));return r.a.createElement(y.a,null,r.a.createElement("div",null,r.a.createElement(k.a,{variant:"h4",align:"center",className:"heading heading-margin"},"Your Top Favorite Tracks"),i))},B=a(126),I=Object(v.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),U=function(e){var t=I();return r.a.createElement(y.a,null,r.a.createElement("div",{className:t.root},r.a.createElement(E.a,{container:!0,spacing:3,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(k.a,{variant:"h4",align:"left",className:"heading"},"View your personal Spotify stats.")),r.a.createElement(E.a,{item:!0,xs:12,direction:"row",justify:"space-evenly",alignItems:"center"},r.a.createElement(B.a,{className:"reg-button",variant:"contained",color:"primary",onClick:function(){return e.handleClick("artists")}},"View Artists"),r.a.createElement(B.a,{className:"reg-button",variant:"contained",color:"secondary",onClick:function(){return e.handleClick("tracks")}},"View Tracks")))))},W=["user-top-read","user-read-currently-playing","user-read-playback-state","user-top-read","playlist-read-collaborative"],M=window.location.hash.substring(1).split("&").reduce((function(e,t){if(console.log("this is initial:",e),console.log("this is item",t),t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1]),console.log("initial after if: ",e[a[0]])}return e}),{});window.location.hash="";var q=M,V=a(127),z=function(e){Object(p.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleClick=function(t){var a=e.state.token;e.getUserTopArtist(a,t)},e.logOut=function(){e.setState({token:null})},e.getUserTopArtist=function(){var t=Object(c.a)(l.a.mark((function t(a,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("axios.get RAN"),t.next=3,f.a.get("https://api.spotify.com/v1/me/top/".concat(n),{params:{limit:50,time_range:"long_term"},headers:{Authorization:"Bearer "+a}}).then((function(t){var a=t.data;console.log("getUserTopArtist .THEN"),e.setState({items:a.items,no_data:!1,request:n}),console.log(a.items)}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.state={token:null,request:"",range:"medium",items:[{artists:[{name:""}],name:"",album:{images:[{url:""}]},images:[{url:""}],external_urls:{spotify:""}}],no_data:!0},e.getUserTopArtist=e.getUserTopArtist.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=q.access_token;e&&(this.setState({token:e}),console.log("componentDidMount RAN"))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,null),r.a.createElement(y.a,{className:"main"},this.state.token&&r.a.createElement("div",{className:"menu"},r.a.createElement(O,{logOut:this.logOut,handleClick:this.handleClick})),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},!this.state.token&&r.a.createElement("div",{className:"login"},r.a.createElement("div",null,r.a.createElement(k.a,{variant:"h4",align:"left",className:"heading"},"Login with your Spotify!")),r.a.createElement("div",{className:"login-button"},r.a.createElement(B.a,{variant:"contained",className:"login-button",color:"primary",href:"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("2ed02617f4fb45588ab05522bf1f18db","&redirect_uri=").concat("https://ggmele1.github.io/react-spotify-app/redirect","&scope=").concat(W.join("%20"),"&response_type=token&show_dialog=true")},r.a.createElement(k.a,null,"Login")))),this.state.token&&this.state.no_data&&r.a.createElement(U,{handleClick:this.handleClick}),this.state.token&&!this.state.no_data&&"artists"===this.state.request&&r.a.createElement(b,{handleClick:this.handleClick,items:this.state.items,className:"user"}),this.state.token&&!this.state.no_data&&"tracks"===this.state.request&&r.a.createElement(S,{items:this.state.items,className:"user"})))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.5dfce8b1.chunk.js.map